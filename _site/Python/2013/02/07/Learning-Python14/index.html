
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>《Learning Python》学习笔记——14.函数基础</title>
    
    <meta name="author" content="Flyaway">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/wiki/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/wiki/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/wiki/css/syntax.css?body=1" rel="stylesheet" type="text/css" media="all">
    <script type="text/javascript" src="/assets/themes/wiki/js/jquery-1.9.0.min.js"></script>
    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>
    <div class="header row">
	<ul >
	  <li><a href="/">Home</a></li>
	  <li><a href="#">About</a></li>
	  <li><a href="http://zhouyichu.com">Blog</a></li>
	</ul>
    </div>

<div class="title row ">
 
《Learning Python》学习笔记——14.函数基础

</div>


      <div class="content">
        

<h1 id="section">为何使用函数</h1>

<ul>
  <li>最大化代码的重用和最小化代码冗余</li>
  <li>流程的分解</li>
</ul>

<h1 id="section-1">编写函数</h1>

<h2 id="def">def语句</h2>
<p>在Python中创建一个函数是通过<code>def</code>关键字进行的，<code>def</code>语句将创建一个函数对象并将其赋值给一个变量名。<code>def</code>语句一般的格式如下所示:</p>

<div class="highlight"><pre><code class="python3"><span class="k">def</span> <span class="err">&lt;</span><span class="nf">name</span><span class="o">&gt;</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="n">arg2</span><span class="p">,</span><span class="o">...</span> <span class="n">argN</span><span class="p">):</span>
    <span class="o">&lt;</span><span class="n">statements</span><span class="o">&gt;</span>
</code></pre></div>

<p>通常情况下，函数体中会有一个<code>return</code>语句，可以出现在函数体的任何位置，它表示函数调用的结束，并将结果返回至函数调用处。但是<code>return</code>语句是可选的，并不是必须的。从技术角度上说，一个没有返回值的函数自动返回了none对象，但是这个值可以被忽略掉。</p>

<h2 id="def-1">def语句是实时执行的</h2>
<p>Python的<code>def</code>语句实际上是一个可执行的语句:当它运行的时候，它创建一个新的函数对象并将其赋值给一个变量名。(请记住，Python中所有的语句都是实时运行的，没有对像独立编译时间这样的流程)因为它是一个语句，它可以出现在任一语句可以出现的地方——甚至是嵌套在其他语句中。</p>

<div class="highlight"><pre><code class="python3"><span class="k">if</span> <span class="n">test</span><span class="p">:</span>
   <span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
       <span class="o">...</span>
<span class="k">else</span><span class="p">:</span>
   <span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
       <span class="o">...</span>
<span class="o">...</span>
<span class="n">func</span><span class="p">()</span>
</code></pre></div>

<p>它在运行时简单地给一个变量名进行赋值。与C语言这样的编译语言不同，Python函数在程序运行之前并不需要全部定义，更确切地说，<code>def</code>在运行时才评估，而在<code>def</code>之中的代码在函数调用时才会评估。</p>

<p>就像Python中其他语句一样，函数仅仅是对象，在程序执行时它清除地记录在了内存之中。实际上，除了调用之外，函数允许任意的属性附加到记录信息以供随后使用:</p>

<div class="highlight"><pre><code class="python3"><span class="n">othername</span><span class="o">=</span><span class="n">func</span>	<span class="c">#Assign function object</span>
<span class="n">othername</span><span class="p">()</span>	<span class="c">#Call func again</span>

<span class="n">func</span><span class="p">()</span>		<span class="c">#call object</span>
<span class="n">func</span><span class="o">.</span><span class="n">attr</span><span class="o">=</span><span class="n">value</span>	<span class="c">#attach attribute</span>
</code></pre></div>

<h1 id="section-2">一个例子:定义和调用</h1>

<div class="highlight"><pre><code class="python3"><span class="k">def</span> <span class="nf">times</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>

<span class="n">times</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>	<span class="c">#return 8</span>
<span class="n">times</span><span class="p">(</span><span class="mf">3.12</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>	<span class="c">#return 12.56</span>
<span class="n">times</span><span class="p">(</span><span class="s">&#39;Ni&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>	<span class="c">#return &#39;NiNiNi&#39;</span>
</code></pre></div>

<p>上面代码中对函数的三次调用都能正确运行，因为&rdquo;*&ldquo;对数字和序列都有效，在Python我们从未对变量、参数或者返回值有过类似的声明，我们可以把times用作数字的乘法或是序列的重复。</p>

<p>换句话说，<strong>函数times的作用决定于传递给它的参数，</strong>这是Python的核心概念之一。</p>

<p>需要强调的是，如果我们传入了一个不支持函数操作的参数，Python会自动检测出不匹配，并抛出一个异常，这样就能减少我们编写不必要的类型检测代码。</p>

<h2 id="section-3">局部变量</h2>
<p>所有在函数内部定义的变量默认都是局部变量，所有的局部变量都会在函数调用时出现，并在函数退出时消失。</p>



      </div>

      <footer >
        <p>&copy; Flyaway 2012 
		 Powered By <a href="http://www.vim.org">Vim</a> and <a href="http://jekyllrb.com">Jekyll</a> </p> </footer> 
  </body>
<script type="text/javascript">
	$("a[href^='http://']").each(function(){
		this.target="_blank";
	});
	$('h2').prepend('>>')
	$('h3').prepend('>>>')
	$(function(){
		$(".span12 h1").bind("click",function(){
			var $content=$(this).next();
			$content.slideToggle("slow");	
		})
	})
</script>
</html>

